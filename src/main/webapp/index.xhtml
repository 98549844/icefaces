<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!--<html xmlns="http://www.w3.org/1999/xhtml"-->
<!--      xmlns:h="http://xmlns.jcp.org/jsf/html"-->
<!--      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"-->
<!--      xmlns:f="http://xmlns.jcp.org/jsf/core">-->

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ace="http://www.icefaces.org/icefaces/components"
      xmlns:icecore="http://www.icefaces.org/icefaces/core"
>


<h:head>
    <link href="./images/favicon.ico" rel="shortcut icon" type="image/x-icon"/>
    <link href="./css/color.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="js/common.js"></script>

    <ui:insert name="title">
        <title>#{index.title}</title>
    </ui:insert>
</h:head>


<f:view>
    <!--    <f:loadBundle var="icefaces" basename="com.icefaces.resource.messages"></f:loadBundle>-->
    <!--    <div><h:outputLabel value="Version: #{icefaces.version}"/></div>-->
    <div><h:outputLabel value="Version: #{index.version}"/></div>
    <div><h:outputLabel value="Hello, world JSF"/></div>
</f:view>
<h:body>
    <div style="text-align: center;"><h2><label>#{index.message}</label></h2></div>
    <div style="text-align: center;"><h2><label>MESSAGE : "#{index.message}"</label></h2></div>
    <div class="red"><h2><label>MESSAGE : "#{index.message}"</label></h2></div>
    <div class="blueviolet"><h2><label>MESSAGE : "#{index.message}"</label></h2></div>
    <div class="olivedrab"><h2><label>MESSAGE : "#{index.message}"</label></h2></div>

    <div><a href="#" onclick="alertMsg()">call common.js !</a></div>
    <div><a href="#" onclick="alert('icefaces 4.3 application')">direct call javascript !</a></div>


    <table>
        <tr>
            <td>
                <h:form id="fileUploadForm">
                    <h:panelGrid styleClass="centeredPanelGrid">
                        <h:outputText value="File Upload" styleClass="headerFontStyle"/>
                    </h:panelGrid>
                    <ace:panel>
                        <ace:fileEntry id="file-entry"
                                       relativePath="/files/"
                                       maxFileCount="10"
                                       maxFileCountMessage="Limited to 10 files uploaded concurrantly."
                                       fileEntryListener="#{fileEntry.sampleListener}"
                                       maxFileSize="6291456"
                                       maxFileSizeMessage="Submitted file is too large."
                                       maxTotalSize="18874368"
                                       maxTotalSizeMessage="Total size of submitted files is too large."
                                       required="true"
                                       requiredMessage="The file is required to submit this form."
                                       useOriginalFilename="true"
                                       useSessionSubdir="true"
                                       autoUpload="false"
                                       multiple="true"/>
                        <br/>
                        <br/>
                        <ace:dataTable id="tbl" value="#{fileEntry.fileData}" var="fileDataVal">
                            <ace:columnGroup id="columnGroup" type="header">
                                <ace:row>
                                    <ace:column colspan="3" headerText="Files on Server"/>
                                </ace:row>

                                <ace:row>
                                    <ace:column headerText="File name"/>
                                    <ace:column headerText="File size"/>
                                    <ace:column headerText="Content Type"/>
                                </ace:row>
                            </ace:columnGroup>

                            <ace:column>
                                <h:outputText value="#{fileDataVal.name}"/>
                            </ace:column>
                            <ace:column>
                                <h:outputText value="#{fileDataVal.size}"/>
                            </ace:column>
                            <ace:column>
                                <h:outputText value="#{fileDataVal.contentType}"/>
                            </ace:column>

                            <ace:panelExpansion>
                                <h:outputText rendered="#{not fileDataVal.info == null}"
                                              value="#{fileDataVal.info}"/>
                            </ace:panelExpansion>

                            <f:facet name="footer">
                                <h:panelGrid columns="1">
                                    <h:outputText value="#{fileEntry.totalFiles}"/>
                                    <h:outputText value="#{fileEntry.totalSize}"/>
                                </h:panelGrid>
                            </f:facet>
                        </ace:dataTable>
                        <ace:messages id="msgs" for="fileUploadForm:file-entry"/>
                    </ace:panel>
                </h:form>
            </td>
        </tr>

    </table>


</h:body>

</html>
